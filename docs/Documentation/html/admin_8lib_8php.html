<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Pragyan CMS: cms/admin.lib.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>cms/admin.lib.php File Reference</h1>  </div>
</div>
<div class="contents">

<p><a href="admin_8lib_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepragyan.html">pragyan</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Widget Framework for Pragyan CMS  (c) 2010 Pragyan Team  <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a> GNU Public License For more details, see README  Add support for File Upload/Download via the widget's configurations  Reload Widgets ,Get Widget Instances. see bottom. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a49ba871cda82fb8be84ea027859d9b63">globalSettingsForm</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#ab6025086dccc91281513f3b207df6725">showOption</a> (num)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a4428264528f87705c47514e1ef1d9e49">websiteInfoSettingsForm</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a1bbf96f0e4c3cbee6b9896f1f63e52d7">templateSettingsForm</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a3e5746453d30df2f3066a166dc4fd2cc">registrationsSettingsForm</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a01026709eda616b2ea0dda0788789efb">securitySettingsForm</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a63d3b560117be1fa6222ead04f9b44c7">admin</a> ($pageid, $userid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#aa1c01c79f77fe9d96445ada2d8dd0003">managementForm</a> ($<a class="el" href="cms_2templates_2red-rage_2index_8php.html#a5b4586081f28ba5c2b7326fc2d4ca512">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a64740e56e36aaa81274da2c59a7add62">updateGlobalSettings</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#ae69ec8a05a5a6787d2633e7e65772d67">admin_checkFunctionPerms</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a613552cfa4776aa8996fc164425c172d">admin_checkAdminUser</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a49ffb46a62f948b655e967367c4563b0">admin_checkAdminPerms</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a3d549a41adadea45310c331839966d91">admin_changePermRank</a> ($<a class="el" href="interfacemodule.html">module</a>=&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#addcdf17bfce851af5fcf2f2dc153ce45">admin_editProfileForm</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#aab4c356b86bf0652340ac7f579a622d6">groupManagementForm</a> ($currentUserId, $modifiableGroups, &amp;$pagePath)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&lt;/style &gt;&lt; scripttype=&quot;text/javascript&quot;&gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#ae67e8bf00430386e78c1478a3923ec64">total</a> = 4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">window&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="admin_8lib_8php.html#a43397fd3516cd230995b3edbbadff48b">onload</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a63d3b560117be1fa6222ead04f9b44c7"></a><!-- doxytag: member="admin.lib.php::admin" ref="a63d3b560117be1fa6222ead04f9b44c7" args="($pageid, $userid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">admin </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>pageid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00316">316</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3d549a41adadea45310c331839966d91"></a><!-- doxytag: member="admin.lib.php::admin_changePermRank" ref="a3d549a41adadea45310c331839966d91" args="($module=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">admin_changePermRank </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em> = <code>&quot;&quot;</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00811">811</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a49ffb46a62f948b655e967367c4563b0"></a><!-- doxytag: member="admin.lib.php::admin_checkAdminPerms" ref="a49ffb46a62f948b655e967367c4563b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">admin_checkAdminPerms </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00760">760</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a613552cfa4776aa8996fc164425c172d"></a><!-- doxytag: member="admin.lib.php::admin_checkAdminUser" ref="a613552cfa4776aa8996fc164425c172d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">admin_checkAdminUser </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00738">738</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae69ec8a05a5a6787d2633e7e65772d67"></a><!-- doxytag: member="admin.lib.php::admin_checkFunctionPerms" ref="ae69ec8a05a5a6787d2633e7e65772d67" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">admin_checkFunctionPerms </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00616">616</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="addcdf17bfce851af5fcf2f2dc153ce45"></a><!-- doxytag: member="admin.lib.php::admin_editProfileForm" ref="addcdf17bfce851af5fcf2f2dc153ce45" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">admin_editProfileForm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00828">828</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a49ba871cda82fb8be84ea027859d9b63"></a><!-- doxytag: member="admin.lib.php::globalSettingsForm" ref="a49ba871cda82fb8be84ea027859d9b63" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">globalSettingsForm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>First check if there is a "valid" user with verifyemail true having the admin permission. If there is not, then make an enabled user with email=admin.org and generate a password for him, and echo (or return or show) the email and password. If there is, and the current userId does not have permission for admin, return getContent(0,0,0,false);</p>
<p>Then check if there is coressponding row in permlist for every module class action. Also vice-versa check if there is function for every permsission in database. Also check for page level permissions.</p>
<p>Then check if the uploads directory is writable. If not give error.</p>
<p>Then allow to change all perm_ranks.</p>
<p>function admin($userId) { } </p>

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00060">60</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="aab4c356b86bf0652340ac7f579a622d6"></a><!-- doxytag: member="admin.lib.php::groupManagementForm" ref="aab4c356b86bf0652340ac7f579a622d6" args="($currentUserId, $modifiableGroups, &amp;$pagePath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">groupManagementForm </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>currentUserId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>modifiableGroups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>pagePath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Parse any get variables, do necessary validation and stuff, so that we needn't check inside every if </p>
</p>

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00833">833</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa1c01c79f77fe9d96445ada2d8dd0003"></a><!-- doxytag: member="admin.lib.php::managementForm" ref="aa1c01c79f77fe9d96445ada2d8dd0003" args="($type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">managementForm </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00530">530</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3e5746453d30df2f3066a166dc4fd2cc"></a><!-- doxytag: member="admin.lib.php::registrationsSettingsForm" ref="a3e5746453d30df2f3066a166dc4fd2cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">registrationsSettingsForm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00179">179</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a01026709eda616b2ea0dda0788789efb"></a><!-- doxytag: member="admin.lib.php::securitySettingsForm" ref="a01026709eda616b2ea0dda0788789efb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">securitySettingsForm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00218">218</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab6025086dccc91281513f3b207df6725"></a><!-- doxytag: member="admin.lib.php::showOption" ref="ab6025086dccc91281513f3b207df6725" args="(num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">showOption </td>
          <td>(</td>
          <td class="paramtype">num&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00071">71</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1bbf96f0e4c3cbee6b9896f1f63e52d7"></a><!-- doxytag: member="admin.lib.php::templateSettingsForm" ref="a1bbf96f0e4c3cbee6b9896f1f63e52d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">templateSettingsForm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00129">129</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a64740e56e36aaa81274da2c59a7add62"></a><!-- doxytag: member="admin.lib.php::updateGlobalSettings" ref="a64740e56e36aaa81274da2c59a7add62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">updateGlobalSettings </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00560">560</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4428264528f87705c47514e1ef1d9e49"></a><!-- doxytag: member="admin.lib.php::websiteInfoSettingsForm" ref="a4428264528f87705c47514e1ef1d9e49" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">websiteInfoSettingsForm </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00099">99</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a43397fd3516cd230995b3edbbadff48b"></a><!-- doxytag: member="admin.lib.php::onload" ref="a43397fd3516cd230995b3edbbadff48b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">window <a class="el" href="admin_8lib_8php.html#a43397fd3516cd230995b3edbbadff48b">onload</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"><span class="stringliteral">&quot;showOption(4);&quot;</span>&gt;&lt;Button&gt;Security and Maintainence&lt;/Button&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;/table&gt;
        &lt;/div&gt;
globalform
</pre></div>
<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00076">76</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae67e8bf00430386e78c1478a3923ec64"></a><!-- doxytag: member="admin.lib.php::total" ref="ae67e8bf00430386e78c1478a3923ec64" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&lt;/style&gt;&lt;scripttype=&quot;text/javascript&quot;&gt; total = 4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="admin_8lib_8php_source.html#l00070">70</a> of file <a class="el" href="admin_8lib_8php_source.html">admin.lib.php</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Jan 2 2011 04:55:32 for Pragyan CMS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
