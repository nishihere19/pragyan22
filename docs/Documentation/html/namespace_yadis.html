<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Pragyan CMS: Yadis Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&nbsp;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Yadis Namespace Reference</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This module contains the HTTP fetcher interface</p>
<p>PHP versions 4 and 5</p>
<p>LICENSE: See the COPYING file included in this distribution.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>JanRain, Inc. &lt;<a href="mailto:openid@janrain.com">openid@janrain.com</a>&gt;  2005 Janrain, Inc.  <a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a> LGPL</dd></dl>
<p>This class is the interface for HTTP fetchers the <a class="el" href="namespace_yadis.html">Yadis</a> library uses. This interface is only important if you need to write a new fetcher for some reason.</p>
<p>private</p>
<p><a class="el" href="namespace_yadis.html">Yadis</a> service manager to be used during yadis-driven authentication attempts.</p>
<p>The base session class used by the <a class="el" href="class_services___yadis___manager.html">Services_Yadis_Manager</a>. This class wraps the default PHP session machinery and should be subclassed if your application doesn't use PHP sessioning.</p>
<p>The <a class="el" href="namespace_yadis.html">Yadis</a> service manager which stores state in a session and iterates over &lt;Service&gt; elements in a <a class="el" href="namespace_yadis.html">Yadis</a> XRDS document and lets a caller attempt to use each one. This is used by the <a class="el" href="namespace_yadis.html">Yadis</a> library internally.</p>
<p>State management for discovery.</p>
<p>High-level usage pattern is to call .getNextService(discover) in order to find the next available service for this user for this session. Once a request completes, call .finish() to clean up the session state.</p>
<p>This module contains the CURL-based HTTP fetcher implementation.</p>
<p>PHP versions 4 and 5</p>
<p>LICENSE: See the COPYING file included in this distribution.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>JanRain, Inc. &lt;<a href="mailto:openid@janrain.com">openid@janrain.com</a>&gt;  2005 Janrain, Inc.  <a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a> LGPL</dd></dl>
<p>A paranoid <a class="el" href="class_services___yadis___h_t_t_p_fetcher.html">Services_Yadis_HTTPFetcher</a> class which uses CURL for fetching.</p>
<p>This is the HTML pseudo-parser for the <a class="el" href="namespace_yadis.html">Yadis</a> library.</p>
<p>PHP versions 4 and 5</p>
<p>LICENSE: See the COPYING file included in this distribution.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>JanRain, Inc. &lt;<a href="mailto:openid@janrain.com">openid@janrain.com</a>&gt;  2005 Janrain, Inc.  <a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a> LGPL</dd></dl>
<p>This class is responsible for scanning an HTML string to find META tags and their attributes. This is used by the <a class="el" href="namespace_yadis.html">Yadis</a> discovery process. This class must be instantiated to be used.</p>
<p>This module contains the plain non-curl HTTP fetcher implementation.</p>
<p>PHP versions 4 and 5</p>
<p>LICENSE: See the COPYING file included in this distribution.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>JanRain, Inc. &lt;<a href="mailto:openid@janrain.com">openid@janrain.com</a>&gt;  2005 Janrain, Inc.  <a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a> LGPL</dd></dl>
<p>Interface import; need to inherit from the base HTTP fetcher class. This class implements a plain, hand-built socket-based fetcher which will be used in the event that CURL is unavailable.</p>
<p>XML-parsing classes to wrap the domxml and DOM extensions for PHP 4 and 5, respectively.</p>
<p>The base class for wrappers for available PHP XML-parsing extensions. To work with this <a class="el" href="namespace_yadis.html">Yadis</a> library, subclasses of this class MUST implement the API as defined in the remarks for this class. Subclasses of <a class="el" href="class_services___yadis___x_m_l_parser.html">Services_Yadis_XMLParser</a> are used to wrap particular PHP XML extensions such as 'domxml'. These are used internally by the library depending on the availability of supported PHP XML extensions.</p>
<p>This concrete implementation of <a class="el" href="class_services___yadis___x_m_l_parser.html">Services_Yadis_XMLParser</a> implements the appropriate API for the 'domxml' extension which is typically packaged with PHP 4. This class will be used whenever the 'domxml' extension is detected. See the <a class="el" href="class_services___yadis___x_m_l_parser.html">Services_Yadis_XMLParser</a> class for details on this class's methods.</p>
<p>This concrete implementation of <a class="el" href="class_services___yadis___x_m_l_parser.html">Services_Yadis_XMLParser</a> implements the appropriate API for the 'dom' extension which is typically packaged with PHP 5. This class will be used whenever the 'dom' extension is detected. See the <a class="el" href="class_services___yadis___x_m_l_parser.html">Services_Yadis_XMLParser</a> class for details on this class's methods.</p>
<p>This module contains the XRDS parsing code.</p>
<p>PHP versions 4 and 5</p>
<p>LICENSE: See the COPYING file included in this distribution.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>JanRain, Inc. &lt;<a href="mailto:openid@janrain.com">openid@janrain.com</a>&gt;  2005 Janrain, Inc.  <a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a> LGPL</dd></dl>
<p>This class represents a &lt;Service&gt; element in an XRDS document. Objects of this type are returned by <a class="el" href="class_services___yadis___x_r_d_s.html#a1e50b221e94b736f6ecff672f5aeac4a">Services_Yadis_XRDS::services()</a> and <a class="el" href="class_services___yadis___yadis.html#a50211b6845768ab7bb11310ebc90a3b0">Services_Yadis_Yadis::services()</a>. Each object corresponds directly to a &lt;Service&gt; element in the XRDS and supplies a getElements($name) method which you should use to inspect the element's contents. See <a class="el" href="class_services___yadis___yadis.html">Services_Yadis_Yadis</a> for more information on the role this class plays in <a class="el" href="namespace_yadis.html">Yadis</a> discovery.</p>
<p>This class performs parsing of XRDS documents.</p>
<p>You should not instantiate this class directly; rather, call parseXRDS statically:</p>
<pre>  $xrds = <a class="el" href="class_services___yadis___x_r_d_s.html#ade425e30b5f8b8aa93829860e0673745">Services_Yadis_XRDS::parseXRDS</a>($xml_string);</pre><p>If the XRDS can be parsed and is valid, an instance of <a class="el" href="class_services___yadis___x_r_d_s.html">Services_Yadis_XRDS</a> will be returned. Otherwise, null will be returned. This class is used by the <a class="el" href="class_services___yadis___yadis.html#a7c60038b606466c5870c8ed295c0ef4c">Services_Yadis_Yadis::discover</a> method.</p>
<p>The core PHP <a class="el" href="namespace_yadis.html">Yadis</a> implementation.</p>
<p>PHP versions 4 and 5</p>
<p>LICENSE: See the COPYING file included in this distribution.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>JanRain, Inc. &lt;<a href="mailto:openid@janrain.com">openid@janrain.com</a>&gt;  2005 Janrain, Inc.  <a href="http://www.gnu.org/copyleft/lesser.html">http://www.gnu.org/copyleft/lesser.html</a> LGPL</dd></dl>
<p>Need both fetcher types so we can use the right one based on the presence or absence of CURL. Need this for parsing HTML (looking for META tags). Need this to parse the XRDS document during <a class="el" href="namespace_yadis.html">Yadis</a> discovery. This is the core of the PHP <a class="el" href="namespace_yadis.html">Yadis</a> library. This is the only class a user needs to use to perform <a class="el" href="namespace_yadis.html">Yadis</a> discovery. This class performs the discovery AND stores the result of the discovery.</p>
<p>First, require this library into your program source:</p>
<pre>  require_once "Services/Yadis/Yadis.php";</pre><p>To perform <a class="el" href="namespace_yadis.html">Yadis</a> discovery, first call the "discover" method statically with a URI parameter:</p>
<pre>  $http_response = array();
  $fetcher = <a class="el" href="class_services___yadis___yadis.html#a282d516b37f13278b19d871b7168cd25">Services_Yadis_Yadis::getHTTPFetcher()</a>;
  $yadis_object = <a class="el" href="class_services___yadis___yadis.html#a7c60038b606466c5870c8ed295c0ef4c">Services_Yadis_Yadis::discover</a>($uri,
                                    $http_response, $fetcher);</pre><p>If the discovery succeeds, $yadis_object will be an instance of <a class="el" href="class_services___yadis___yadis.html">Services_Yadis_Yadis</a>. If not, it will be null. The XRDS document found during discovery should have service descriptions, which can be accessed by calling</p>
<pre>  $service_list = $yadis_object-&gt;services();</pre><p>which returns an array of objects which describe each service. These objects are instances of <a class="el" href="class_services___yadis___service.html">Services_Yadis_Service</a>. Each object describes exactly one whole Service element, complete with all of its Types and URIs (no expansion is performed). The common use case for using the service objects returned by services() is to write one or more filter functions and pass those to services():</p>
<pre>  $service_list = $yadis_object-&gt;services(
                               array("filterByURI",
                                     "filterByExtension"));</pre><p>The filter functions (whose names appear in the array passed to services()) take the following form:</p>
<pre>  function myFilter(&amp;$service) {
       // Query $service object here.  Return true if the service
       // matches your query; false if not.
  }</pre><p>This is an example of a filter which uses a regular expression to match the content of URI tags (note that the <a class="el" href="class_services___yadis___service.html">Services_Yadis_Service</a> class provides a getURIs() method which you should use instead of this contrived example):</p>
<pre>
  function URIMatcher(&amp;$service) {
      foreach ($service-&gt;getElements('xrd:URI') as $uri) {
          if (preg_match("/some_pattern/",
                         $service-&gt;parser-&gt;content($uri))) {
              return true;
          }
      }
      return false;
  }</pre><p>The filter functions you pass will be called for each service object to determine which ones match the criteria your filters specify. The default behavior is that if a given service object matches ANY of the filters specified in the services() call, it will be returned. You can specify that a given service object will be returned ONLY if it matches ALL specified filters by changing the match mode of services():</p>
<pre>  $yadis_object-&gt;services(array("filter1", "filter2"),
                          SERVICES_YADIS_MATCH_ALL);</pre><p>See <a class="el" href="">SERVICES_YADIS_MATCH_ALL</a> and <a class="el" href="">SERVICES_YADIS_MATCH_ANY</a>.</p>
<p>Services described in an XRDS should have a library which you'll probably be using. Those libraries are responsible for defining filters that can be used with the "services()" call. If you need to write your own filter, see the documentation for <a class="el" href="class_services___yadis___service.html">Services_Yadis_Service</a>. </p>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Jan 2 2011 04:55:33 for Pragyan CMS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
