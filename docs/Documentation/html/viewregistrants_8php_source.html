<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Pragyan CMS: cms/modules/form/viewregistrants.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>cms/modules/form/viewregistrants.php</h1>  </div>
</div>
<div class="contents">
<a href="viewregistrants_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 <span class="keywordflow">if</span>(!defined(<span class="stringliteral">&#39;__PRAGYAN_CMS&#39;</span>))
<a name="l00003"></a>00003 { 
<a name="l00004"></a>00004         header($_SERVER[<span class="stringliteral">&#39;SERVER_PROTOCOL&#39;</span>].<span class="stringliteral">&#39; 403 Forbidden&#39;</span>);
<a name="l00005"></a>00005         echo <span class="stringliteral">&quot;&lt;h1&gt;403 Forbidden&lt;h1&gt;&lt;h4&gt;You are not authorized to access the page.&lt;/h4&gt;&quot;</span>;
<a name="l00006"></a>00006         echo <span class="stringliteral">&#39;&lt;hr/&gt;&#39;</span>.$_SERVER[<span class="stringliteral">&#39;SERVER_SIGNATURE&#39;</span>];
<a name="l00007"></a>00007         exit(1);
<a name="l00008"></a>00008 }
<a name="l00034"></a><a class="code" href="viewregistrants_8php.html#af97d7cfcd2b8876ab1b951c23dac18df">00034</a> <a class="code" href="cms_2templates_2pv3_2index_8php.html#a3d59d9110a163fdc9c81f6f02f628ea2">function</a> <a class="code" href="viewregistrants_8php.html#af97d7cfcd2b8876ab1b951c23dac18df">getLastUpdateDate</a>($moduleComponentId, <a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>) {
<a name="l00035"></a>00035         <a class="code" href="import_contacts_8php.html#af59a5f7cd609e592c41dc3643efd3c98">$query</a> = <span class="stringliteral">&#39;SELECT `form_lastupdated` FROM `form_regdata` WHERE `page_modulecomponentid` = &#39;</span> . $moduleComponentId . <span class="stringliteral">&#39; AND `user_id` = &#39;</span> . <a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>;
<a name="l00036"></a>00036         <a class="code" href="import_contacts_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = mysql_query(<a class="code" href="import_contacts_8php.html#af59a5f7cd609e592c41dc3643efd3c98">$query</a>);
<a name="l00037"></a>00037         $row = mysql_fetch_row(<a class="code" href="import_contacts_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>);
<a name="l00038"></a>00038         <span class="keywordflow">return</span> $row[0];
<a name="l00039"></a>00039 }
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="viewregistrants_8php.html#a84029eb113db7d1fbb291a864d731b4e">00041</a> <a class="code" href="cms_2templates_2pv3_2index_8php.html#a3d59d9110a163fdc9c81f6f02f628ea2">function</a> <a class="code" href="viewregistrants_8php.html#a84029eb113db7d1fbb291a864d731b4e">getRegistrationDate</a>($moduleComponentId, <a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>) {
<a name="l00042"></a>00042         <a class="code" href="import_contacts_8php.html#af59a5f7cd609e592c41dc3643efd3c98">$query</a> = <span class="stringliteral">&#39;SELECT `form_firstupdated` FROM `form_regdata` WHERE `page_modulecomponentid` = &#39;</span> . $moduleComponentId . <span class="stringliteral">&#39; AND `user_id` = &#39;</span> . <a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>;
<a name="l00043"></a>00043         <a class="code" href="import_contacts_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = mysql_query(<a class="code" href="import_contacts_8php.html#af59a5f7cd609e592c41dc3643efd3c98">$query</a>);
<a name="l00044"></a>00044         $row = mysql_fetch_row(<a class="code" href="import_contacts_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>);
<a name="l00045"></a>00045         <span class="keywordflow">return</span> $row[0];
<a name="l00046"></a>00046 }
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="viewregistrants_8php.html#ab9e4118a83d62d24c00d6640080e91e3">00048</a> <a class="code" href="cms_2templates_2pv3_2index_8php.html#a3d59d9110a163fdc9c81f6f02f628ea2">function</a> <a class="code" href="viewregistrants_8php.html#ab9e4118a83d62d24c00d6640080e91e3">generateFormDataRow</a>($moduleCompId, <a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>, $columnList, $showProfileData = <span class="keyword">false</span>) {
<a name="l00049"></a>00049         $display = array();
<a name="l00050"></a>00050         $elementRow = array();
<a name="l00051"></a>00051 
<a name="l00052"></a>00052         $elementDataQuery = <span class="stringliteral">&#39;SELECT `form_elementdata`, `form_elementdesc`.`form_elementid`, `form_elementdesc`.`form_elementtype` FROM `form_elementdesc`, `form_elementdata` WHERE &#39;</span> .
<a name="l00053"></a>00053                                         <span class="stringliteral">&quot;`form_elementdata`.`page_modulecomponentid` = $moduleCompId AND `user_id` = $userId AND &quot;</span> .
<a name="l00054"></a>00054                                         <span class="stringliteral">&#39;`form_elementdata`.`page_modulecomponentid` = `form_elementdesc`.`page_modulecomponentid` AND &#39;</span> .
<a name="l00055"></a>00055                                         <span class="stringliteral">&#39;`form_elementdata`.`form_elementid` = `form_elementdesc`.`form_elementid` &#39;</span> .
<a name="l00056"></a>00056                                         <span class="stringliteral">&#39;ORDER BY `form_elementrank` ASC&#39;</span>;
<a name="l00057"></a>00057         $elementDataResult = mysql_query($elementDataQuery) or die($elementDataQuery . <span class="charliteral">&#39; &#39;</span> . mysql_error());
<a name="l00058"></a>00058         <span class="keywordflow">while</span>($elementDataRow = mysql_fetch_row($elementDataResult)) {
<a name="l00059"></a>00059                 $elementRow[<span class="stringliteral">&#39;elementid_&#39;</span> . $elementDataRow[1]] = $elementDataRow[0];
<a name="l00060"></a>00060                 <span class="keywordflow">if</span>($elementDataRow[2] == <span class="stringliteral">&#39;file&#39;</span>) {
<a name="l00061"></a>00061                         $elementRow[<span class="stringliteral">&#39;elementid_&#39;</span> . $elementDataRow[1]] = <span class="stringliteral">&#39;&lt;a href=&quot;./&#39;</span>.$elementDataRow[0].<span class="stringliteral">&#39;&quot;&gt;&#39;</span> . $elementDataRow[0] . <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span>;
<a name="l00062"></a>00062                 }
<a name="l00063"></a>00063         }
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         <span class="keywordflow">if</span>($showProfileData) {
<a name="l00066"></a>00066                 <span class="keywordflow">if</span>(<a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a> &gt; 0) {
<a name="l00067"></a>00067                         $elementDataQuery = <span class="stringliteral">&#39;SELECT `form_elementdata`, `form_elementdesc`.`form_elementid`, `form_elementdesc`.`form_elementname`, `form_elementdesc`.`form_elementtype` FROM `form_elementdesc`, `form_elementdata` WHERE &#39;</span> .
<a name="l00068"></a>00068                                                 <span class="stringliteral">&quot;`form_elementdata`.`page_modulecomponentid` = 0 AND `user_id` = $userId AND &quot;</span> .
<a name="l00069"></a>00069                                                 <span class="stringliteral">&quot;`form_elementdata`.`page_modulecomponentid` = `form_elementdesc`.`page_modulecomponentid` AND &quot;</span> .
<a name="l00070"></a>00070                                                 <span class="stringliteral">&quot;`form_elementdata`.`form_elementid` = `form_elementdesc`.`form_elementid` ORDER BY `form_elementrank`&quot;</span>;
<a name="l00071"></a>00071                         $elementDataResult = mysql_query($elementDataQuery) or die($elementDataQuery . <span class="stringliteral">&#39;&lt;br /&gt;&#39;</span> . mysql_error());
<a name="l00072"></a>00072                         <span class="keywordflow">while</span>($elementDataRow = mysql_fetch_assoc($elementDataResult)) {
<a name="l00073"></a>00073                                 $elementRow[<span class="stringliteral">&#39;form0_&#39;</span> . $elementDataRow[<span class="stringliteral">&#39;form_elementname&#39;</span>]] = $elementDataRow[<span class="stringliteral">&#39;form_elementdata&#39;</span>];
<a name="l00074"></a>00074                                 <span class="keywordflow">if</span>($elementDataRow[<span class="stringliteral">&#39;form_elementtype&#39;</span>] == <span class="stringliteral">&#39;file&#39;</span>) {
<a name="l00075"></a>00075                                         $elementRow[<span class="stringliteral">&#39;form0_&#39;</span> . $elementDataRow[<span class="stringliteral">&#39;form_elementname&#39;</span>]] = <span class="stringliteral">&#39;&lt;a href=&quot;./&#39;</span>.$elementDataRow[<span class="stringliteral">&#39;form_elementdata&#39;</span>].<span class="stringliteral">&#39;&quot;&gt;&#39;</span> . $elementDataRow[<span class="stringliteral">&#39;form_elementdata&#39;</span>] . <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span>;
<a name="l00076"></a>00076                                 }
<a name="l00077"></a>00077                         }
<a name="l00078"></a>00078                 }
<a name="l00079"></a>00079                 <span class="keywordflow">else</span> {
<a name="l00080"></a>00080                         $elementDataQuery = <span class="stringliteral">&#39;SELECT `form_elementname` FROM `form_elementdesc` WHERE `page_modulecomponentid` = 0&#39;</span>;
<a name="l00081"></a>00081                         $elementDataResult = mysql_query($elementDataQuery);
<a name="l00082"></a>00082                         <span class="keywordflow">while</span>($elementDataRow = mysql_fetch_row($elementDataResult)) {
<a name="l00083"></a>00083                                 $elementDataRow[<span class="stringliteral">&#39;form0_&#39;</span> . $elementDataRow[<span class="stringliteral">&#39;form_elementname&#39;</span>]] = <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00084"></a>00084                         }
<a name="l00085"></a>00085                 }
<a name="l00086"></a>00086         }
<a name="l00087"></a>00087 
<a name="l00088"></a>00088         <span class="keywordflow">if</span>(in_array(<span class="stringliteral">&#39;useremail&#39;</span>, $columnList)) {
<a name="l00089"></a>00089                 $elementRow[<span class="stringliteral">&#39;useremail&#39;</span>] = <a class="code" href="common_8lib_8php.html#a3efaa25a9ad777c5335cea25307d9f56">getUserEmail</a>(<a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>);
<a name="l00090"></a>00090         }
<a name="l00091"></a>00091         <span class="keywordflow">if</span>(in_array(<span class="stringliteral">&#39;username&#39;</span>, $columnList)) {
<a name="l00092"></a>00092                 $elementRow[<span class="stringliteral">&#39;username&#39;</span>] = <a class="code" href="common_8lib_8php.html#a739950d0e0823934196717cc0aad0b6c">getUserName</a>(<a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>);
<a name="l00093"></a>00093         }
<a name="l00094"></a>00094         <span class="keywordflow">if</span>(in_array(<span class="stringliteral">&#39;userfullname&#39;</span>, $columnList)) {
<a name="l00095"></a>00095                 $elementRow[<span class="stringliteral">&#39;userfullname&#39;</span>] = <a class="code" href="common_8lib_8php.html#a1256f001a5dd6e8ac02f4ec8f19788d3">getUserFullName</a>(<a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>);
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097         <span class="keywordflow">if</span>(in_array(<span class="stringliteral">&#39;lastupdated&#39;</span>, $columnList)) {
<a name="l00098"></a>00098                 $elementRow[<span class="stringliteral">&#39;lastupdated&#39;</span>] = <a class="code" href="viewregistrants_8php.html#af97d7cfcd2b8876ab1b951c23dac18df">getLastUpdateDate</a>($moduleCompId, <a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>);
<a name="l00099"></a>00099         }
<a name="l00100"></a>00100         <span class="keywordflow">if</span>(in_array(<span class="stringliteral">&#39;registrationdate&#39;</span>, $columnList)) {
<a name="l00101"></a>00101                 $elementRow[<span class="stringliteral">&#39;registrationdate&#39;</span>] = <a class="code" href="viewregistrants_8php.html#a84029eb113db7d1fbb291a864d731b4e">getRegistrationDate</a>($moduleCompId, <a class="code" href="index_8php.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a>);
<a name="l00102"></a>00102         }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104         $columnCount = count($columnList);
<a name="l00105"></a>00105         <span class="keywordflow">for</span>($i = 0; $i &lt; count($columnList); $i++) {
<a name="l00106"></a>00106                 <span class="keywordflow">if</span>(isset($elementRow[$columnList[$i]])) {
<a name="l00107"></a>00107                         $display[] = $elementRow[$columnList[$i]];
<a name="l00108"></a>00108                 }
<a name="l00109"></a>00109                 <span class="keywordflow">else</span> {
<a name="l00110"></a>00110                         $display[] = <span class="charliteral">&#39; &#39;</span>;
<a name="l00111"></a>00111                 }
<a name="l00112"></a>00112         }
<a name="l00113"></a>00113 
<a name="l00114"></a>00114         <span class="keywordflow">return</span> $display;
<a name="l00115"></a>00115 }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="viewregistrants_8php.html#a1ca94d552a61d6947459c04d852ba271">00120</a>         <a class="code" href="cms_2templates_2pv3_2index_8php.html#a3d59d9110a163fdc9c81f6f02f628ea2">function</a> <a class="code" href="viewregistrants_8php.html#a1ca94d552a61d6947459c04d852ba271">getColumnList</a>($moduleCompId, $showUserEmail, $showUserFullName, $showRegistrationDate, $showLastUpdateDate, $showUserProfileData=<span class="keyword">false</span>) {
<a name="l00121"></a>00121                 $columns = array();
<a name="l00122"></a>00122                 
<a name="l00123"></a>00123                 <span class="keywordflow">if</span>($showUserEmail)
<a name="l00124"></a>00124                         $columns[<span class="stringliteral">&#39;useremail&#39;</span>] = <span class="stringliteral">&#39;User Email&#39;</span>;
<a name="l00125"></a>00125                 <span class="keywordflow">if</span>($showUserFullName)
<a name="l00126"></a>00126                         $columns[<span class="stringliteral">&#39;userfullname&#39;</span>] = <span class="stringliteral">&#39;User Full Name&#39;</span>;
<a name="l00127"></a>00127                 <span class="keywordflow">if</span>($showRegistrationDate)
<a name="l00128"></a>00128                         $columns[<span class="stringliteral">&#39;registrationdate&#39;</span>] = <span class="stringliteral">&#39;Registration Date&#39;</span>;
<a name="l00129"></a>00129                 <span class="keywordflow">if</span>($showLastUpdateDate)
<a name="l00130"></a>00130                         $columns[<span class="stringliteral">&#39;lastupdated&#39;</span>] = <span class="stringliteral">&#39;Last Updated&#39;</span>;
<a name="l00131"></a>00131                 <span class="keywordflow">if</span>($showUserProfileData) {
<a name="l00132"></a>00132                         $profileQuery = <span class="stringliteral">&#39;SELECT `form_elementname` FROM `form_elementdesc` WHERE `page_modulecomponentid` = 0 ORDER BY `form_elementrank`&#39;</span>;
<a name="l00133"></a>00133                         $profileResult = mysql_query($profileQuery);
<a name="l00134"></a>00134                         <span class="keywordflow">while</span>($profileRow = mysql_fetch_row($profileResult)) {
<a name="l00135"></a>00135                                 $columns[<span class="stringliteral">&#39;form0_&#39;</span> . $profileRow[0]] = $profileRow[0];
<a name="l00136"></a>00136                         }
<a name="l00137"></a>00137                 }
<a name="l00138"></a>00138 
<a name="l00139"></a>00139                 $columnQuery = <span class="stringliteral">&#39;SELECT `form_elementid`, `form_elementname` FROM `form_elementdesc` WHERE `page_modulecomponentid` = &#39;</span> .
<a name="l00140"></a>00140                                                                          $moduleCompId . <span class="stringliteral">&#39; ORDER BY `form_elementrank` ASC&#39;</span>;
<a name="l00141"></a>00141                 $columnResult = mysql_query($columnQuery);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143                 <span class="keywordflow">while</span>($columnRow = mysql_fetch_assoc($columnResult)) {
<a name="l00144"></a>00144                         $columns[<span class="stringliteral">&#39;elementid_&#39;</span> . $columnRow[<span class="stringliteral">&#39;form_elementid&#39;</span>]] = $columnRow[<span class="stringliteral">&#39;form_elementname&#39;</span>];
<a name="l00145"></a>00145                         
<a name="l00146"></a>00146                 }
<a name="l00147"></a>00147 
<a name="l00148"></a>00148                 <span class="keywordflow">return</span> $columns;
<a name="l00149"></a>00149         }
<a name="l00150"></a>00150 
<a name="l00151"></a><a class="code" href="viewregistrants_8php.html#a89d530f865b9189873ec7d6aed51e9c7">00151</a>         <a class="code" href="cms_2templates_2pv3_2index_8php.html#a3d59d9110a163fdc9c81f6f02f628ea2">function</a> <a class="code" href="viewregistrants_8php.html#a89d530f865b9189873ec7d6aed51e9c7">getDistinctRegistrants</a>($moduleCompId, $rowSortField, $rowSortOrder) {
<a name="l00152"></a>00152                 <span class="keywordflow">if</span>($rowSortOrder != <span class="stringliteral">&#39;asc&#39;</span> &amp;&amp; $rowSortOrder != <span class="stringliteral">&#39;desc&#39;</span>) $rowSortOrder = <span class="stringliteral">&#39;asc&#39;</span>;
<a name="l00153"></a>00153                 $users = array();
<a name="l00154"></a>00154                 $userQuery = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156                 <span class="keywordflow">if</span>($rowSortField == <span class="stringliteral">&#39;useremail&#39;</span> || $rowSortField == <span class="stringliteral">&#39;userfullname&#39;</span> || $rowSortField == <span class="stringliteral">&#39;username&#39;</span>) {
<a name="l00157"></a>00157                         $col = <span class="stringliteral">&#39;user_fullname&#39;</span>;
<a name="l00158"></a>00158                         <span class="keywordflow">if</span>($rowSortField == <span class="stringliteral">&#39;useremail&#39;</span>) $col = <span class="stringliteral">&#39;user_email&#39;</span>;
<a name="l00159"></a>00159                         elseif($rowSortField == <span class="stringliteral">&#39;username&#39;</span>) $col = <span class="stringliteral">&#39;user_name&#39;</span>;
<a name="l00160"></a>00160                         $userTable = <a class="code" href="config_8inc_8php.html#a6e82c009b12320b713155acd894a9330">MYSQL_DATABASE_PREFIX</a> . <span class="stringliteral">&#39;users&#39;</span>;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162                         $userQuery = <span class="stringliteral">&quot;SELECT `form_regdata`.`user_id` FROM `$userTable`, `form_regdata` WHERE &quot;</span> .
<a name="l00163"></a>00163                                         <span class="stringliteral">&quot;`page_modulecomponentid` = $moduleCompId AND `$userTable`.`user_id` = `form_regdata`.`user_id` &quot;</span> .
<a name="l00164"></a>00164                                         <span class="stringliteral">&quot;ORDER BY `$col` $rowSortOrder&quot;</span>;
<a name="l00165"></a>00165 
<a name="l00169"></a>00169                 }
<a name="l00170"></a>00170                 elseif($rowSortField == <span class="stringliteral">&#39;registrationdate&#39;</span> || $rowSortField == <span class="stringliteral">&#39;lastupdated&#39;</span>) {
<a name="l00171"></a>00171                         $col = <span class="stringliteral">&#39;form_lastupdated&#39;</span>;
<a name="l00172"></a>00172                         <span class="keywordflow">if</span>($rowSortField == <span class="stringliteral">&#39;registrationdate&#39;</span>) $col = <span class="stringliteral">&#39;form_firstupdated&#39;</span>;
<a name="l00173"></a>00173 
<a name="l00174"></a>00174                         $userQuery = <span class="stringliteral">&quot;SELECT `user_id` FROM `form_regdata` WHERE &quot;</span> .
<a name="l00175"></a>00175                                                                                 <span class="stringliteral">&quot;`page_modulecomponentid` = $moduleCompId ORDER BY `$col` $rowSortOrder&quot;</span>;
<a name="l00176"></a>00176                 }
<a name="l00177"></a>00177                 elseif(substr($rowSortField, 0, 6) == <span class="stringliteral">&#39;form0_&#39;</span>) {
<a name="l00179"></a>00179                 }
<a name="l00180"></a>00180                 <span class="keywordflow">else</span> {
<a name="l00181"></a>00181                         $elementId = split(<span class="charliteral">&#39;_&#39;</span>, $rowSortField);
<a name="l00182"></a>00182                         $elementId = $elementId[1];
<a name="l00192"></a>00192                         $userQuery = <span class="stringliteral">&quot;SELECT `reg`.`user_id` FROM `form_elementdesc` des LEFT JOIN (form_regdata reg LEFT JOIN form_elementdata dat ON reg.page_modulecomponentid = dat.page_modulecomponentid AND reg.user_id = dat.user_id AND reg.page_modulecomponentid = $moduleCompId) &quot;</span> .
<a name="l00193"></a>00193                                         <span class="stringliteral">&quot;ON des.page_modulecomponentid = dat.page_modulecomponentid AND des.form_elementid = dat.form_elementid &quot;</span> .
<a name="l00194"></a>00194                                         <span class="stringliteral">&quot;WHERE dat.`form_elementid` = $elementId ORDER BY dat.form_elementdata $rowSortOrder&quot;</span>;
<a name="l00195"></a>00195                 }
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 
<a name="l00198"></a>00198                 $userResult = mysql_query($userQuery) or die ($userQuery . <span class="charliteral">&#39; &#39;</span> . mysql_error());
<a name="l00199"></a>00199                 <span class="keywordflow">while</span>($userRow = mysql_fetch_row($userResult)) {
<a name="l00200"></a>00200                         $users[] = $userRow[0];
<a name="l00201"></a>00201                 }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203                 <span class="keywordflow">return</span> $users;
<a name="l00204"></a>00204         }
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 
<a name="l00215"></a><a class="code" href="viewregistrants_8php.html#a658b92a12ae45f425dad870eaf58076a">00215</a> <a class="code" href="cms_2templates_2pv3_2index_8php.html#a3d59d9110a163fdc9c81f6f02f628ea2">function</a> <a class="code" href="viewregistrants_8php.html#a658b92a12ae45f425dad870eaf58076a">generateFormDataTable</a>($moduleComponentId, $sortField, $sortOrder, <a class="code" href="cms_2templates_2nitt09_2index_8php.html#a72696f3a5d66ace796358e38f8cf3c2d">$action</a> = <span class="stringliteral">&#39;viewregistrants&#39;</span>) {
<a name="l00216"></a>00216         global <a class="code" href="common_8lib_8php.html#af6e6b8785607da4a06f0ab2ebd67e518">$sourceFolder</a>, <a class="code" href="icons_8lib_8php.html#a2654f4b5167de5bf124544b36647f7c4">$templateFolder</a>, <a class="code" href="icons_8lib_8php.html#aedb76478d4528f9a7238cb660ba23f41">$urlRequestRoot</a>, <a class="code" href="icons_8lib_8php.html#a0fa2c9191ec4f6bb08bd885031af226c">$cmsFolder</a>, <a class="code" href="common_8lib_8php.html#aff25c40f48b4e124ac84533f8dbd0b4d">$moduleFolder</a>;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218         $formDescQuery = <span class="stringliteral">&#39;SELECT `form_showuseremail`, `form_showuserfullname`, `form_showregistrationdate`, `form_showlastupdatedate`, `form_showuserprofiledata` FROM `form_desc` &#39;</span> .
<a name="l00219"></a>00219                                         <span class="stringliteral">&#39;WHERE `page_modulecomponentid` = &#39;</span> . $moduleComponentId;
<a name="l00220"></a>00220         $formDescResult = mysql_query($formDescQuery);
<a name="l00221"></a>00221         $showUserEmail = $showUserFullName = <span class="keyword">false</span>;
<a name="l00222"></a>00222         $showRegistrationDate = $showLastUpdateDate = <span class="keyword">true</span>;
<a name="l00223"></a>00223         $showUserProfileData = <span class="keyword">false</span>;
<a name="l00224"></a>00224 
<a name="l00225"></a>00225         <span class="keywordflow">if</span>($formDescRow = mysql_fetch_row($formDescResult)) {
<a name="l00226"></a>00226                 $showUserEmail = $formDescRow[0] == 1;
<a name="l00227"></a>00227                 $showUserFullName = $formDescRow[1] == 1;
<a name="l00228"></a>00228                 $showRegistrationDate = $formDescRow[2] == 1;
<a name="l00229"></a>00229                 $showLastUpdateDate = $formDescRow[3] == 1;
<a name="l00230"></a>00230                 $showUserProfileData = $formDescRow[4] == 1;
<a name="l00231"></a>00231         }
<a name="l00232"></a>00232         $showEditButtons = <a class="code" href="cms_2templates_2nitt09_2index_8php.html#a72696f3a5d66ace796358e38f8cf3c2d">$action</a> == <span class="stringliteral">&#39;editregistrants&#39;</span>;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234         $columnList = <a class="code" href="viewregistrants_8php.html#a1ca94d552a61d6947459c04d852ba271">getColumnList</a>($moduleComponentId, $showUserEmail, $showUserFullName, $showRegistrationDate, $showLastUpdateDate, $showUserProfileData);
<a name="l00235"></a>00235         $columnNames = array();
<a name="l00236"></a>00236 
<a name="l00237"></a>00237         <span class="comment">/*$normalImage = &quot;&lt;img alt=\&quot;Sort by this field\&quot; height=\&quot;12\&quot; width=\&quot;12\&quot; style=\&quot;padding:0px\&quot; src=\&quot;$urlRequestRoot/$cmsFolder/$templateFolder/common/icons/16x16/actions/view-refresh.png\&quot; /&gt;&quot;;</span>
<a name="l00238"></a>00238 <span class="comment">        $orderedImage = &quot;&lt;img alt=\&quot;Sort by this field\&quot; height=\&quot;12\&quot; width=\&quot;12\&quot; style=\&quot;padding:0px\&quot; src=\&quot;$urlRequestRoot/$cmsFolder/$templateFolder/common/icons/16x16/actions/go-&quot; . ($sortOrder == &#39;asc&#39; ? &#39;up&#39; : &#39;down&#39;) . &quot;.png\&quot; /&gt;&quot;;</span>
<a name="l00239"></a>00239 <span class="comment"></span>
<a name="l00240"></a>00240 <span class="comment">        $tableCaptions = &quot;&lt;thead&gt;&lt;tr&gt;\n&lt;th nowrap=\&quot;nowrap\&quot; class=\&quot;sortable-numeric\&quot;&gt;S. No.&lt;/th&gt;\n&quot;;</span>
<a name="l00241"></a>00241 <span class="comment">        if($showEditButtons) {</span>
<a name="l00242"></a>00242 <span class="comment">                $tableCaptions .= &#39;&lt;th nowrap=&quot;nowrap&quot;&gt;Edit&lt;/th&gt;&lt;th nowrap=&quot;nowrap&quot;&gt;Delete&lt;/th&gt;&#39;;</span>
<a name="l00243"></a>00243 <span class="comment">        }</span>
<a name="l00244"></a>00244 <span class="comment">        foreach($columnList as $columnName =&gt; $columnTitle) {</span>
<a name="l00245"></a>00245 <span class="comment">                $tableCaptions .= &quot;&lt;th nowrap=\&quot;nowrap\&quot; class=\&quot;sortable-text\&quot;&gt;$columnTitle&lt;/th&gt;\n&quot;;</span>
<a name="l00246"></a>00246 <span class="comment">                $columnNames[] = $columnName;</span>
<a name="l00247"></a>00247 <span class="comment">        }</span>
<a name="l00248"></a>00248 <span class="comment">        $tableCaptions .= &quot;&lt;/tr&gt;&lt;/thead&gt;\n&quot;;*/</span>
<a name="l00249"></a>00249         $tableCaptions = <span class="stringliteral">&quot;&lt;thead&gt;&lt;tr&gt;\n&lt;th&gt;S. No.&lt;/th&gt;\n&quot;</span>;
<a name="l00250"></a>00250         $toggleColumns = <span class="stringliteral">&quot;&lt;fieldset&gt;&lt;legend&gt;Select Columns&lt;/legend&gt;&lt;table&gt;&lt;tr&gt;&quot;</span>;
<a name="l00251"></a>00251         $tableJqueryStuff = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00252"></a>00252         $c=0;
<a name="l00253"></a>00253         $d=0;
<a name="l00254"></a>00254         <span class="keywordflow">if</span>($showEditButtons) {
<a name="l00255"></a>00255                 $tableCaptions .= <span class="stringliteral">&#39;&lt;th&gt;Actions&lt;/th&gt;&#39;</span>;
<a name="l00256"></a>00256                 $tableJqueryStuff = <span class="stringliteral">&quot;null,&quot;</span>;
<a name="l00257"></a>00257                 $c++;
<a name="l00258"></a>00258         }
<a name="l00259"></a>00259         <span class="keywordflow">foreach</span>($columnList as $columnName =&gt; $columnTitle) {
<a name="l00260"></a>00260                 $tableCaptions .= <span class="stringliteral">&quot;&lt;th&gt;$columnTitle&lt;/th&gt;\n&quot;</span>;
<a name="l00261"></a>00261                 $columnNames[] = $columnName;
<a name="l00262"></a>00262                 
<a name="l00263"></a>00263                 $c=$c+1;
<a name="l00264"></a>00264                 $checked=<span class="stringliteral">&quot;checked&quot;</span>;
<a name="l00265"></a>00265                 <span class="keywordflow">if</span>(!($columnName==<span class="stringliteral">&quot;useremail&quot;</span> || $columnName==<span class="stringliteral">&quot;registrationdate&quot;</span> || $columnName==<span class="stringliteral">&quot;lastupdated&quot;</span>))
<a name="l00266"></a>00266                 {
<a name="l00267"></a>00267                         $tableJqueryStuff.=<span class="stringliteral">&quot;/* $columnTitle */ { \&quot;bVisible\&quot;: false },&quot;</span>;
<a name="l00268"></a>00268                         $checked=<span class="stringliteral">&quot;&quot;</span>;
<a name="l00269"></a>00269                 }
<a name="l00270"></a>00270                 <span class="keywordflow">else</span> $tableJqueryStuff.=<span class="stringliteral">&quot;null,&quot;</span>;
<a name="l00271"></a>00271                 
<a name="l00272"></a>00272                 <span class="keywordflow">if</span>($d++%5==0)
<a name="l00273"></a>00273                  $toggleColumns.=<span class="stringliteral">&quot;&lt;/tr&gt;&lt;tr&gt;&quot;</span>;
<a name="l00274"></a>00274                 $toggleColumns.=<span class="stringliteral">&quot;&lt;td&gt;&lt;input type=&#39;checkbox&#39; onclick=&#39;fnShowHide($c);&#39; $checked /&gt;$columnTitle &lt;br/&gt;&lt;/td&gt;&quot;</span>;
<a name="l00275"></a>00275         }
<a name="l00276"></a>00276         
<a name="l00277"></a>00277         $tableCaptions .= <span class="stringliteral">&quot;&lt;/tr&gt;&lt;/thead&gt;\n&quot;</span>;
<a name="l00278"></a>00278         $toggleColumns .= <span class="stringliteral">&quot;&lt;/tr&gt;&lt;/table&gt;&lt;/fieldset&gt;&quot;</span>;
<a name="l00279"></a>00279         
<a name="l00280"></a>00280         $userIds = <a class="code" href="viewregistrants_8php.html#a89d530f865b9189873ec7d6aed51e9c7">getDistinctRegistrants</a>($moduleComponentId, $sortField, $sortOrder);
<a name="l00281"></a>00281         $userCount = count($userIds);
<a name="l00282"></a>00282 
<a name="l00283"></a>00283         global <a class="code" href="index_8php.html#aea13187bd6a0a1f26eea8f6b1d51a677" title="Stores all the icons locations along with.">$ICONS</a>;
<a name="l00284"></a>00284         $editImage = $ICONS[<span class="stringliteral">&#39;Edit&#39;</span>][<span class="stringliteral">&#39;small&#39;</span>];
<a name="l00285"></a>00285         $deleteImage = $ICONS[<span class="stringliteral">&#39;Delete&#39;</span>][<span class="stringliteral">&#39;small&#39;</span>];
<a name="l00286"></a>00286 
<a name="l00287"></a>00287         $tableBody = <span class="stringliteral">&#39;&lt;tbody&gt;&#39;</span>;
<a name="l00288"></a>00288         <span class="keywordflow">for</span>($i = 0; $i &lt; $userCount; $i++) {
<a name="l00289"></a>00289                 $tableBody .= <span class="stringliteral">&#39;&lt;tr&gt;&lt;td&gt;&#39;</span>.($i + 1).<span class="stringliteral">&#39;&lt;/td&gt;&#39;</span>;
<a name="l00290"></a>00290                 <span class="keywordflow">if</span>($showEditButtons) {
<a name="l00291"></a>00291                         <span class="keywordflow">if</span>($userIds[$i] &lt;= 0) {
<a name="l00292"></a>00292                                 $tableBody .= <span class="stringliteral">&#39;&lt;td align=&quot;center&quot;&gt;&amp;nbsp;&lt;/td&gt;&#39;</span>;
<a name="l00293"></a>00293                         }
<a name="l00294"></a>00294                         <span class="keywordflow">else</span> {
<a name="l00295"></a>00295                                 $tableBody .= <span class="stringliteral">&#39;&lt;td align=&quot;center&quot;&gt;&lt;a title=&quot;Edit&quot; href=&quot;./+editregistrants&amp;subaction=edit&amp;useremail=&#39;</span>.getUserEmail($userIds[$i]).<span class="stringliteral">&#39;&quot; /&gt;&#39;</span> . $editImage . <span class="stringliteral">&#39;&lt;/a&gt;&amp;nbsp;&#39;</span>;
<a name="l00296"></a>00296                         }
<a name="l00297"></a>00297                         <span class="keywordflow">if</span>($userIds[$i] &lt;= 0) {
<a name="l00298"></a>00298                                 $tableBody .= <span class="stringliteral">&#39;&lt;a style=&quot;cursor:pointer&quot; title=&quot;Delete&quot; onclick=&quot;return gotopage(\&#39;./+editregistrants&amp;subaction=delete&amp;&amp;useremail=&#39;</span>.getUserEmail($userIds[$i]).<span class="stringliteral">&#39;&amp;registrantid=&#39;</span>.$userIds[$i].<span class="charliteral">&#39;\&#39;</span>,\<span class="stringliteral">&#39;&#39;</span>.getUserEmail($userIds[$i]).<span class="charliteral">&#39;\&#39;</span>)<span class="stringliteral">&quot; /&gt;&#39; . $deleteImage . &#39;&lt;/a&gt;&lt;/td&gt;&#39;;</span>
<a name="l00299"></a>00299 <span class="stringliteral">                        }</span>
<a name="l00300"></a>00300 <span class="stringliteral">                        else {</span>
<a name="l00301"></a>00301 <span class="stringliteral">                                $tableBody .= &#39;&lt;a style=&quot;</span>cursor:pointer<span class="stringliteral">&quot; title=&quot;</span>Delete<span class="stringliteral">&quot; onclick=&quot;</span><span class="keywordflow">return</span> gotopage(\<span class="stringliteral">&#39;./+editregistrants&amp;subaction=delete&amp;useremail=&#39;</span>.<a class="code" href="common_8lib_8php.html#a3efaa25a9ad777c5335cea25307d9f56">getUserEmail</a>($userIds[$i]).<span class="charliteral">&#39;\&#39;</span>,\<span class="stringliteral">&#39;&#39;</span>.<a class="code" href="common_8lib_8php.html#a3efaa25a9ad777c5335cea25307d9f56">getUserEmail</a>($userIds[$i]).<span class="charliteral">&#39;\&#39;</span>)<span class="stringliteral">&quot; /&gt;&#39; . $deleteImage . &#39;&lt;/a&gt;&lt;/td&gt;&#39;;</span>
<a name="l00302"></a>00302 <span class="stringliteral">                        }</span>
<a name="l00303"></a>00303 <span class="stringliteral">                }</span>
<a name="l00304"></a>00304 <span class="stringliteral">                $tableBody .= &#39;&lt;td&gt;&#39; . join(generateFormDataRow($moduleComponentId, $userIds[$i], $columnNames, $showUserProfileData), &#39;&lt;/td&gt;&lt;td&gt;&#39;) . &quot;</span>&lt;/td&gt;&lt;/tr&gt;\n<span class="stringliteral">&quot;;</span>
<a name="l00305"></a>00305 <span class="stringliteral">        }</span>
<a name="l00306"></a>00306 <span class="stringliteral">        $tableBody.=&quot;</span>&lt;/tbody&gt;<span class="stringliteral">&quot;;</span>
<a name="l00307"></a>00307 <span class="stringliteral">        </span>
<a name="l00308"></a>00308 <span class="stringliteral">        $tableJqueryStuff = &quot;</span><span class="comment">/* S. No. */</span> null, $tableJqueryStuff<span class="stringliteral">&quot;;</span>
<a name="l00309"></a>00309 <span class="stringliteral">        </span>
<a name="l00310"></a>00310 <span class="stringliteral">        $smarttable = smarttable::render(array(&#39;registrantstable&#39;),array(&#39;registrantstable&#39;=&gt;array(&#39;aoColumns&#39;=&gt;&quot;</span>$tableJqueryStuff<span class="stringliteral">&quot;)));</span>
<a name="l00311"></a>00311 <span class="stringliteral">        global $STARTSCRIPTS;</span>
<a name="l00312"></a>00312 <span class="stringliteral">        $STARTSCRIPTS.=&quot;</span>initSmartTable();<span class="stringliteral">&quot;;</span>
<a name="l00313"></a>00313 <span class="stringliteral">        $javascriptBody = &lt;&lt;&lt;JAVASCRIPTBODY</span>
<a name="l00314"></a>00314 <span class="stringliteral">                $smarttable</span>
<a name="l00315"></a>00315 <span class="stringliteral">                &lt;script&gt;</span>
<a name="l00316"></a>00316 <span class="stringliteral">                        function fnShowHide( iCol )</span>
<a name="l00317"></a>00317 <span class="stringliteral">                        {</span>
<a name="l00318"></a>00318 <span class="stringliteral">                                var bVis = oTable.fnSettings().aoColumns[iCol].bVisible;</span>
<a name="l00319"></a>00319 <span class="stringliteral">                                oTable.fnSetColumnVis( iCol, bVis ? false : true );</span>
<a name="l00320"></a>00320 <span class="stringliteral">                        }</span>
<a name="l00321"></a>00321 <span class="stringliteral"></span>
<a name="l00322"></a>00322 <span class="stringliteral">                &lt;/script&gt;</span>
<a name="l00323"></a>00323 <span class="stringliteral">                &lt;script language=&quot;</span>javascript<span class="stringliteral">&quot;&gt;</span>
<a name="l00324"></a>00324 <span class="stringliteral">                        function gotopage(pagepath,useremail) {</span>
<a name="l00325"></a>00325 <span class="stringliteral">                                if(confirm(&quot;</span>Are you sure you want to <span class="keyword">remove</span> <span class="stringliteral">&quot;+useremail+&quot;</span> from <span class="keyword">this</span> <a class="code" href="classform.html">form</a>?<span class="stringliteral">&quot;))</span>
<a name="l00326"></a>00326 <span class="stringliteral">                                        window.location = pagepath;</span>
<a name="l00327"></a>00327 <span class="stringliteral">                        }</span>
<a name="l00328"></a>00328 <span class="stringliteral">            &lt;/script&gt;</span>
<a name="l00329"></a>00329 <span class="stringliteral">JAVASCRIPTBODY;</span>
<a name="l00330"></a>00330 <span class="stringliteral">        $imagesFolder=$urlRequestRoot.&quot;</span>/<span class="stringliteral">&quot;.$cmsFolder.&quot;</span>/templates/common/images<span class="stringliteral">&quot;;</span>
<a name="l00331"></a>00331 <span class="stringliteral">        $editRegistrantsView = &#39;&lt;br /&gt;&#39;;</span>
<a name="l00332"></a>00332 <span class="stringliteral">        if($action == &#39;editregistrants&#39;) {</span>
<a name="l00333"></a>00333 <span class="stringliteral">                $editRegistrantsView .= &lt;&lt;&lt;EDITREGISTRANTSVIEW</span>
<a name="l00334"></a>00334 <span class="stringliteral">                        &lt;form name=&quot;</span>addusertoformform<span class="stringliteral">&quot; method=&quot;</span>POST<span class="stringliteral">&quot; action=&quot;</span>./+editregistrants<span class="stringliteral">&quot; style=&quot;</span><span class="keywordtype">float</span>:left<span class="stringliteral">&quot;&gt;</span>
<a name="l00335"></a>00335 <span class="stringliteral">                                &lt;script type=&quot;</span>text/javascript<span class="stringliteral">&quot; language=&quot;</span>javascript<span class="stringliteral">&quot; src=&quot;</span>$urlRequestRoot/$cmsFolder/$templateFolder/common/scripts/ajaxsuggestionbox.js<span class="stringliteral">&quot;&gt;</span>
<a name="l00336"></a>00336 <span class="stringliteral">                                &lt;/script&gt;</span>
<a name="l00337"></a>00337 <span class="stringliteral"></span>
<a name="l00338"></a>00338 <span class="stringliteral">                                &lt;input type=&quot;</span>text<span class="stringliteral">&quot; name=&quot;</span>useremail<span class="stringliteral">&quot; id=&quot;</span>userEmail<span class="stringliteral">&quot; autocomplete=&quot;</span>off<span class="stringliteral">&quot; style=&quot;</span>width: 256px<span class="stringliteral">&quot; /&gt;</span>
<a name="l00339"></a>00339 <span class="stringliteral">                                &lt;div id=&quot;</span>suggestionsBox<span class="stringliteral">&quot; class=&quot;</span>suggestionbox<span class="stringliteral">&quot;&gt;&lt;/div&gt;</span>
<a name="l00340"></a>00340 <span class="stringliteral"></span>
<a name="l00341"></a>00341 <span class="stringliteral">                                </span>
<a name="l00342"></a>00342 <span class="stringliteral">                                &lt;input type=&quot;</span>submit<span class="stringliteral">&quot; name=&quot;</span>btnAddUserToForm<span class="stringliteral">&quot; value=&quot;</span>Add User to Form<span class="stringliteral">&quot; /&gt;</span>
<a name="l00343"></a>00343 <span class="stringliteral">                                &lt;script language=&quot;</span>javascript<span class="stringliteral">&quot; type=&quot;</span>text/javascript<span class="stringliteral">&quot;&gt;</span>
<a name="l00344"></a>00344 <span class="stringliteral">                                &lt;!--</span>
<a name="l00345"></a>00345 <span class="stringliteral">                                        var userBox = new SuggestionBox(document.getElementById(&#39;userEmail&#39;), document.getElementById(&#39;suggestionsBox&#39;), &quot;</span>./+editregistrants&amp;subaction=getsuggestions&amp;forwhat=%pattern%<span class="stringliteral">&quot;);</span>
<a name="l00346"></a>00346 <span class="stringliteral">                                        userBox.loadingImageUrl = &#39;$imagesFolder/ajaxloading.gif&#39;;</span>
<a name="l00347"></a>00347 <span class="stringliteral">                                --&gt;</span>
<a name="l00348"></a>00348 <span class="stringliteral">                                &lt;/script&gt;</span>
<a name="l00349"></a>00349 <span class="stringliteral">                        &lt;/form&gt;</span>
<a name="l00350"></a>00350 <span class="stringliteral">                        &lt;br /&gt;&lt;br /&gt;</span>
<a name="l00351"></a>00351 <span class="stringliteral">EDITREGISTRANTSVIEW;</span>
<a name="l00352"></a>00352 <span class="stringliteral">        }</span>
<a name="l00353"></a>00353 <span class="stringliteral">        //$editRegistrantsView .= $javascriptBody.&#39;&lt;table border=&quot;</span>1<span class="stringliteral">&quot; id=&quot;</span>registrantstable<span class="stringliteral">&quot; class=&quot;</span>paginate-20 max-pages-5 no-arrow rowstyle-alt colstyle-alt sortable display<span class="stringliteral">&quot;&gt;&#39; . $tableCaptions . $tableBody . &#39;&lt;/table&gt;&lt;br /&gt;&#39;;</span>
<a name="l00354"></a>00354 <span class="stringliteral">        $editRegistrantsView .= $javascriptBody.$toggleColumns.&#39;&lt;table border=&quot;</span>1<span class="stringliteral">&quot; id=&quot;</span>registrantstable<span class="stringliteral">&quot; class=&quot;</span>display<span class="stringliteral">&quot;&gt;&#39; . $tableCaptions . $tableBody . &#39;&lt;/table&gt;&lt;br /&gt;&#39;;</span>
<a name="l00355"></a>00355 <span class="stringliteral">        if($action == &#39;editregistrants&#39;) {</span>
<a name="l00356"></a>00356 <span class="stringliteral">                $editRegistrantsView .= &#39;&lt;form name=&quot;</span>emptyregistrants<span class="stringliteral">&quot; method=&quot;</span>POST<span class="stringliteral">&quot; action=&quot;</span>./+editregistrants<span class="stringliteral">&quot; onsubmit=&quot;</span><span class="keywordflow">return</span> confirm(\<span class="stringliteral">&#39;Are you sure you wish to remove all registrants from this form? This will also remove the users from any groups associated with this form.\&#39;)&quot;&gt;&#39;</span> .
<a name="l00357"></a>00357                         <span class="stringliteral">&#39;&lt;input type=&quot;submit&quot; name=&quot;btnEmptyRegistrants&quot; value=&quot;Delete All Registrants&quot; title=&quot;Deletes all registrations to this form&quot; /&gt;&#39;</span> .
<a name="l00358"></a>00358                         <span class="stringliteral">&#39;&lt;/form&gt;&#39;</span>;
<a name="l00359"></a>00359         }
<a name="l00360"></a>00360         <span class="keywordflow">return</span> $editRegistrantsView;
<a name="l00361"></a>00361 }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Jan 2 2011 04:55:32 for Pragyan CMS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
